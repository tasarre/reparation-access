var AccessConfig=function(){"use strict ";var e={Setup:{id:"accessconfig"},Setting:{useExtendContrast:!0},BodyActive:{classSetting:"active"},Overlay:{classSetting:"overlay"},ModalButton:{id:"button"},ModalContainer:{classSetting:"modal",titleLang:{en:"Accessibility setting",fr:"Paramètres d’accessibilité"},titleId:"title",titleClass:"title"},CloseButton:{id:"close",classSetting:"close",lang:{en:"close",fr:"fermer"},hiddenTextClass:"sr-only"},InlineContentContainer:{id:"inline-c"},FormFieldsetContent:{classSetting:"content"},FormFieldset:{classSetting:"fieldset"},LegendFieldset:{classSetting:"legend"},FormRadio:{classSetting:"radio"},ContrastFieldset:{id:"contrast"},ContrastLegend:{lang:{en:"Contrast",fr:"Contrastes"}},DefaultContrastCheckbox:{id:"default-contrast",value:"default-contrast",groupName:"contrast",lang:{en:"Default",fr:"Défaut"}},HighContrastCheckbox:{id:"high-contrast",value:"high-contrast",groupName:"contrast",lang:{en:"Reinforce",fr:"Renforcer"}},InvertContrastCheckbox:{id:"inv-contrast",value:"inv-contrast",groupName:"contrast",lang:{en:"Reverse",fr:"Inverser"}},DyslexiaFieldset:{id:"font"},DyslexiaLegend:{lang:{en:"Font (dyslexia)",fr:"Police (dyslexie)"}},DefaultFontCheckbox:{id:"default-font",value:"default-font",groupName:"font",lang:{en:"Default",fr:"Défaut"}},DyslexiaFontCheckbox:{id:"dys-font",value:"dys-font",groupName:"font",lang:{en:"Adapt",fr:"Adapter"}},LineSpacingFieldset:{id:"line-spacing"},LineSpacingLegend:{lang:{en:"Line spacing",fr:"Interlignage"}},DefaultLineSpacingCheckbox:{id:"default-spacing",value:"default-spacing",groupName:"line-spacing",lang:{en:"Default",fr:"Défaut"}},DyslexiaLineSpacingCheckbox:{id:"dys-spacing",value:"dys-spacing",groupName:"line-spacing",lang:{en:"Increase",fr:"Augmenter"}},JustificationFieldset:{id:"justification"},JustificationLegend:{lang:{en:"Justification",fr:"Justification"}},DefaultJustificationCheckbox:{id:"default-justification",value:"default-justification",groupName:"justification",lang:{en:"Default",fr:"Défaut"}},DyslexiaJustificationCheckbox:{id:"cancel-justification",value:"cancel-justification",groupName:"justification",lang:{en:"Remove",fr:"Supprimer"}},ImageReplacementFieldset:{id:"image"},ImageReplacementCSS:{replacementCss:"replace-img",replacementStyle:"replace-style"},ImageReplacementLegend:{lang:{en:"Images",fr:"Images"}},DefaultImageReplacementCheckbox:{id:"default-img",value:"default-img",groupName:"image",lang:{en:"Default",fr:"Défaut"}},ImageReplacementCheckbox:{id:"text-img",value:"text-img",groupName:"image",lang:{en:"Replace with text",fr:"Remplacer par du texte"}}},t={mode:null,cookieName:null,openObj:null,imgTab:null,imgSpan:null};function a(){var a=document.querySelector("body"),o=document.getElementById(t.mode).querySelectorAll("input");for(i=0,len=o.length;i<len;i++)o[i].addEventListener("click",function(){n(this)},!1);var s=function(e){for(var t=userPrefix+"-"+e+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var n=a[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return null}(t.cookieName);if(s){for(a.classList.add(s),i=0,len=o.length;i<len;i++)o[i].removeAttribute("checked");document.getElementById(s).setAttribute("checked","checked")}a.classList.contains(userPrefix+"-"+e.DefaultImageReplacementCheckbox.value)&&l(),a.classList.contains(userPrefix+"-"+e.ImageReplacementCheckbox.value)&&r()}function n(a){t.mode=a.getAttribute("name"),t.cookieName=a.getAttribute("name");var n=document.getElementById(t.mode).querySelectorAll("input"),o=document.querySelector("body");for(i=0,lenx=n.length;i<lenx;i++){var s=n[i].getAttribute("value");n[i].removeAttribute("checked"),s===userPrefix+"-"+e.DefaultImageReplacementCheckbox.value&&l(),o.classList.remove(s)}var c=a.getAttribute("value");a.setAttribute("checked","checked"),(s=a.getAttribute("value"))===userPrefix+"-"+e.ImageReplacementCheckbox.value&&r(),o.classList.add(c),d(t.cookieName,c,"180")}function r(){for(j=0,len=t.imgTab.length;j<len;j++)if(t.imgTab[j].parentNode){var e=t.imgTab[j].parentNode;t.imgTab[j]=e.replaceChild(t.imgSpan[j],t.imgTab[j])}}function l(){for(j=0,len=t.imgSpan.length;j<len;j++)if(t.imgSpan[j].parentNode){var e=t.imgSpan[j].parentNode;t.imgSpan[j]=e.replaceChild(t.imgTab[j],t.imgSpan[j])}}function o(a){document.body.classList.add(userPrefix+"-"+e.BodyActive.classSetting);var i=document.createElement("div");i.classList.add(userPrefix+"-"+e.Overlay.classSetting),document.body.appendChild(i),t.openObj=document.getElementById(userPrefix),t.openObj.style.display="block",document.getElementById(userPrefix+"-"+e.CloseButton.id).focus(),document.addEventListener("keydown",function i(n){if(27===n.keyCode){t.openObj.style.display="none",a.focus(),document.removeEventListener("keydown",i,!1),document.body.classList.remove(userPrefix+"-"+e.BodyActive.classSetting);var r=document.querySelector("."+userPrefix+"-"+e.Overlay.classSetting);r&&r.remove()}},!1);var n=document.getElementById(userPrefix+"-"+e.CloseButton.id);n.addEventListener("click",function i(){t.openObj.style.display="none";a.focus();n.removeEventListener("click",i,!1);document.body.classList.remove(userPrefix+"-"+e.BodyActive.classSetting);var r=document.querySelector("."+userPrefix+"-"+e.Overlay.classSetting);r&&r.remove()},!1),document.addEventListener("focus",s,!0)}function s(e){t.openObj&&!t.openObj.contains(e.target)&&(e.stopPropagation(),t.openObj.focus())}function d(e,t,a){if(a){var i=new Date;i.setTime(i.getTime()+24*a*60*60*1e3);var n="; expires="+i.toGMTString()}else n="";document.cookie=e+"="+t+n+"; path=/"}window.onload=function(){if(document.querySelector("[data-accessconfig-params]")){var n=document.querySelector("[data-accessconfig-params]");if(t.userParams=JSON.parse(n.getAttribute("data-accessconfig-params")),t.userParams.Prefix?userPrefix=t.userParams.Prefix:userPrefix="a42-ac",function(){function a(e){var t=e.tagName,a=document.createElement(t);for(var i in e)"tagName"!=i&&"function"!=typeof e[i]&&a.setAttribute(i,e[i]);return a}var n=(o=document.querySelector("html").getAttribute("lang"),o?(s=o.indexOf("-")>0?o.indexOf("-"):3,o.substring(0,s)):"en"),r=a({tagName:"div",id:userPrefix,class:userPrefix}),l=a({tagName:"div",class:userPrefix+"-"+e.FormFieldsetContent.classSetting});var o,s;if(1==t.userParams.Modal||void 0===t.userParams.Modal){r.setAttribute("role","dialog"),r.setAttribute("aria-labelledby",userPrefix+"-"+e.ModalContainer.titleId),r.setAttribute("tabindex","-1"),t.userParams.ContainerClass?r.classList.add(userPrefix+"-"+t.userParams.ContainerClass):r.classList.add(userPrefix+"-"+e.ModalContainer.classSetting);var d=a({tagName:"h1",id:userPrefix+"-"+e.ModalContainer.titleId});t.userParams.ModalTitle?d.classList.add(userPrefix+t.userParams.ModalTitle):d.classList.add(userPrefix+"-"+e.ModalContainer.titleClass);var c=document.createTextNode(e.ModalContainer.titleLang[n]);d.appendChild(c),r.appendChild(d);var u=a({tagName:"button",type:"button",id:userPrefix+"-"+e.CloseButton.id});t.userParams.ModalCloseButton?u.classList.add(userPrefix+t.userParams.ModalCloseButton):u.classList.add(userPrefix+"-"+e.CloseButton.classSetting);var m=a({tagName:"span",class:e.CloseButton.hiddenTextClass}),f=document.createTextNode(e.CloseButton.lang[n]);m.appendChild(f),u.appendChild(m),r.appendChild(u),r.appendChild(l)}else{var g=document.getElementById(e.Setup.id);g.appendChild(r),r.classList.add(userPrefix+"accessconfig-inline"),r.appendChild(l)}if(0!=t.userParams.Contrast){var p=a({tagName:"fieldset",id:userPrefix+"-"+e.ContrastFieldset.id}),x=document.createElement("legend"),C=document.createTextNode(e.ContrastLegend.lang[n]);x.appendChild(C),p.appendChild(x);var h=a({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+e.DefaultContrastCheckbox.id,value:userPrefix+"-"+e.DefaultContrastCheckbox.value,name:userPrefix+"-"+e.DefaultContrastCheckbox.groupName}),b=a({tagName:"label",for:userPrefix+"-"+e.DefaultContrastCheckbox.id}),v=document.createTextNode(e.DefaultContrastCheckbox.lang[n]);if(b.appendChild(v),p.appendChild(h),p.appendChild(b),e.Setting.useExtendContrast){var h=a({tagName:"input",type:"radio",id:userPrefix+"-"+e.HighContrastCheckbox.id,value:userPrefix+"-"+e.HighContrastCheckbox.value,name:userPrefix+"-"+e.HighContrastCheckbox.groupName}),b=a({tagName:"label",for:userPrefix+"-"+e.HighContrastCheckbox.id}),v=document.createTextNode(e.HighContrastCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b)}var h=a({tagName:"input",type:"radio",id:userPrefix+"-"+e.InvertContrastCheckbox.id,value:userPrefix+"-"+e.InvertContrastCheckbox.value,name:userPrefix+"-"+e.InvertContrastCheckbox.groupName}),b=a({tagName:"label",for:userPrefix+"-"+e.InvertContrastCheckbox.id}),v=document.createTextNode(e.InvertContrastCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b),l.appendChild(p)}if(0!=t.userParams.Font){var p=a({tagName:"fieldset",id:userPrefix+"-"+e.DyslexiaFieldset.id}),x=document.createElement("legend"),C=document.createTextNode(e.DyslexiaLegend.lang[n]);x.appendChild(C),p.appendChild(x);var h=a({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+e.DefaultFontCheckbox.id,value:userPrefix+"-"+e.DefaultFontCheckbox.value,name:userPrefix+"-"+e.DefaultFontCheckbox.groupName}),b=a({tagName:"label",for:userPrefix+"-"+e.DefaultFontCheckbox.id}),v=document.createTextNode(e.DefaultFontCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b);var h=a({tagName:"input",type:"radio",id:userPrefix+"-"+e.DyslexiaFontCheckbox.id,value:userPrefix+"-"+e.DyslexiaFontCheckbox.value,name:userPrefix+"-"+e.DyslexiaFontCheckbox.groupName}),b=a({tagName:"label",for:userPrefix+"-"+e.DyslexiaFontCheckbox.id}),v=document.createTextNode(e.DyslexiaFontCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b),l.appendChild(p)}if(0!=t.userParams.LineSpacing){var p=a({tagName:"fieldset",id:userPrefix+"-"+e.LineSpacingFieldset.id}),x=document.createElement("legend"),C=document.createTextNode(e.LineSpacingLegend.lang[n]);x.appendChild(C),p.appendChild(x);var h=a({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+e.DefaultLineSpacingCheckbox.id,value:userPrefix+"-"+e.DefaultLineSpacingCheckbox.value,name:userPrefix+"-"+e.DefaultLineSpacingCheckbox.groupName}),b=a({tagName:"label",for:userPrefix+"-"+e.DefaultLineSpacingCheckbox.id}),v=document.createTextNode(e.DefaultLineSpacingCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b);var h=a({tagName:"input",type:"radio",id:userPrefix+"-"+e.DyslexiaLineSpacingCheckbox.id,value:userPrefix+"-"+e.DyslexiaLineSpacingCheckbox.value,name:userPrefix+"-"+e.DyslexiaLineSpacingCheckbox.groupName}),b=a({tagName:"label",for:userPrefix+"-"+e.DyslexiaLineSpacingCheckbox.id}),v=document.createTextNode(e.DyslexiaLineSpacingCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b),l.appendChild(p)}if(0!=t.userParams.Justification){var p=a({tagName:"fieldset",id:userPrefix+"-"+e.JustificationFieldset.id}),x=document.createElement("legend"),C=document.createTextNode(e.JustificationLegend.lang[n]);x.appendChild(C),p.appendChild(x);var h=a({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+e.DefaultJustificationCheckbox.id,value:userPrefix+"-"+e.DefaultJustificationCheckbox.value,name:userPrefix+"-"+e.DefaultJustificationCheckbox.groupName}),b=a({tagName:"label",for:userPrefix+"-"+e.DefaultJustificationCheckbox.id}),v=document.createTextNode(e.DefaultJustificationCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b);var h=a({tagName:"input",type:"radio",id:userPrefix+"-"+e.DyslexiaJustificationCheckbox.id,value:userPrefix+"-"+e.DyslexiaJustificationCheckbox.value,name:userPrefix+"-"+e.DyslexiaJustificationCheckbox.groupName}),b=a({tagName:"label",for:userPrefix+"-"+e.DyslexiaJustificationCheckbox.id}),v=document.createTextNode(e.DyslexiaJustificationCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b),l.appendChild(p)}if(0!=t.userParams.ImageReplacement){var p=a({tagName:"fieldset",id:userPrefix+"-"+e.ImageReplacementFieldset.id}),x=document.createElement("legend"),C=document.createTextNode(e.ImageReplacementLegend.lang[n]);x.appendChild(C),p.appendChild(x);var h=a({tagName:"input",type:"radio",checked:"checked",id:userPrefix+"-"+e.DefaultImageReplacementCheckbox.id,value:userPrefix+"-"+e.DefaultImageReplacementCheckbox.value,name:userPrefix+"-"+e.DefaultImageReplacementCheckbox.groupName}),b=a({tagName:"label",for:userPrefix+"-"+e.DefaultImageReplacementCheckbox.id}),v=document.createTextNode(e.DefaultImageReplacementCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b);var h=a({tagName:"input",type:"radio",id:userPrefix+"-"+e.ImageReplacementCheckbox.id,value:userPrefix+"-"+e.ImageReplacementCheckbox.value,name:userPrefix+"-"+e.ImageReplacementCheckbox.groupName}),b=a({tagName:"label",for:userPrefix+"-"+e.ImageReplacementCheckbox.id}),v=document.createTextNode(e.ImageReplacementCheckbox.lang[n]);b.appendChild(v),p.appendChild(h),p.appendChild(b),l.appendChild(p)}for(allFieldset=r.querySelectorAll("fieldset"),i=0,len=allFieldset.length;i<len;i++)t.userParams.FormFieldset?allFieldset[i].classList.add(userPrefix+t.userParams.FormFieldset):allFieldset[i].classList.add(userPrefix+"-"+e.FormFieldset.classSetting);for(allLegend=r.querySelectorAll("legend"),i=0,len=allLegend.length;i<len;i++)t.userParams.FormFieldsetLegend?allLegend[i].classList.add(userPrefix+t.userParams.FormFieldsetLegend):allLegend[i].classList.add(userPrefix+"-"+e.LegendFieldset.classSetting);for(allRadio=r.querySelectorAll('input[type="radio"]'),i=0,len=allRadio.length;i<len;i++)t.userParams.FormRadio?allRadio[i].classList.add(userPrefix+t.userParams.FormRadio):allRadio[i].classList.add(userPrefix+"-"+e.FormRadio.classSetting);var P=document.querySelector("body"),y=P.firstChild;1!=t.userParams.Modal&&void 0!==t.userParams.Modal||P.insertBefore(r,y)}(),1==t.userParams.Modal||void 0===t.userParams.Modal){var r=document.createElement("button");if(r.setAttribute("id",userPrefix+"-"+e.ModalButton.id),r.setAttribute("data-accessconfig-button","true"),document.querySelector("[data-accessconfig-buttonname]")&&!document.querySelector('[id="accessconfig-buttonname-extension"]')){var l=document.querySelector("[data-accessconfig-buttonname]"),s=(l=document.createTextNode(l.getAttribute("data-accessconfig-buttonname")),document.createElement("span"));s.appendChild(l),r.appendChild(s)}else if(document.querySelector('[id="accessconfig-buttonname-extension"]')&&""!=document.querySelector('[id="accessconfig-buttonname-extension"]').innerHTML){l=document.querySelector('[id="accessconfig-buttonname-extension"]');r.appendChild(l)}document.querySelector("[data-accessconfig-buttontitle]")&&""!=document.querySelector("[data-accessconfig-buttontitle]").getAttribute("data-accessconfig-buttontitle")&&r.setAttribute("title",document.querySelector("[data-accessconfig-buttontitle]").getAttribute("data-accessconfig-buttontitle")),document.getElementById(e.Setup.id).appendChild(r);var d=document.querySelectorAll('[data-accessconfig-button="true"]');for(i=0,len=d.length;i<len;i++)d[i].addEventListener("click",function(){o(this)},!1)}0!=t.userParams.Contrast&&(t.mode=userPrefix+"-"+e.ContrastFieldset.id,t.cookieName="contrast",a()),0!=t.userParams.Font&&(t.mode=userPrefix+"-"+e.DyslexiaFieldset.id,t.cookieName="font",a()),0!=t.userParams.LineSpacing&&(t.mode=userPrefix+"-"+e.LineSpacingFieldset.id,t.cookieName="line-spacing",a()),0!=t.userParams.Justification&&(t.mode=userPrefix+"-"+e.JustificationFieldset.id,t.cookieName="justification",a()),0!=t.userParams.ImageReplacement&&(t.mode=userPrefix+"-"+e.ImageReplacementFieldset.id,t.cookieName="image",function(){t.imgSpan=new Array;var a="."+userPrefix+"-"+e.ImageReplacementCSS.replacementCss;for(t.imgTab=document.querySelectorAll(a),j=0,len=t.imgTab.length;j<len;j++){var i=document.createElement("span"),n=t.imgTab[j].getAttribute("alt"),r=document.createTextNode(n);i.appendChild(r),i.classList.add(userPrefix+"-"+e.ImageReplacementCSS.replacementCss),i.classList.add(userPrefix+"-"+e.ImageReplacementCSS.replacementStyle),t.imgSpan[j]=i}}(),a())}else console.log("AccessConfig warning : HTML missing")}}();[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach(function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})});